package automation;

import java.io.IOException;
import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.testng.annotations.Test;
import java.util.concurrent.TimeUnit;


public class RbeFunding {
static WebDriver driver = new FirefoxDriver(); 
final String A = ("test.pa5@usac.org");      		  //  username  
final String B = ("c0nartoramus");                 	         //   all passwords the same 
final String C = ("Skybeam, LLC - 346117");                 	//    SAC 
final String D = ("test.ven5@usac.org");            //     username 
final String E = ("test.pr6@usac.org");            //      username
final String F = ("test.pm5@usac.org");           //	      username
final String G = ("RBE");     					//	      change to something 
final String H = ("346117");  //	      to be used later 
final String I = ("Payment 3");                	  //          change request for payment(s) 


	@Test (priority = 1)
	public void logIn() throws InterruptedException, IOException {
	String curr = driver.getWindowHandle();
	if(curr.isEmpty())
	{
		driver.findElement(By.cssSelector("body")).sendKeys(Keys.CONTROL+"t");
	}
	
	driver.get("https://portal-int.appiancloud.com/suite/tempo/");
//	driver.manage().window().maximize();
	driver.findElement(By.cssSelector(".btn, input.iBlueButton")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("un")).sendKeys(A);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("pw")).sendKeys(B);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//input[@type='submit']")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	System.out.println("User logged in");
	}  
	
	@Test (priority = 2)
	public void records() throws InterruptedException {
	driver.findElement(By.partialLinkText("Records")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("SACs")).click();
	Thread.sleep(2000);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(H);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(Keys.ENTER);
	Thread.sleep(2000);
	driver.findElement(By.partialLinkText(H)).click();
	System.out.println("SAC " + C + " selected");
	} 

	@Test (priority = 3)
	public void relatedActions() throws InterruptedException {
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Related Actions")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Manage Funding")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//button[contains(.,'Manage RBE Funding')]")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//label[contains(text(),'Manage " + G + " Defaults')]")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS); 
	driver.findElement(By.xpath("//button[contains(.,'Select')]")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//button[contains(.,'Create Payment Default')]")).click();
	Thread.sleep(2500);
	} 
	
	@Test (priority = 4)
	public void manageFunding() throws InterruptedException {
	//driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//label[contains(text(),'Winning Bid Amount')]")).sendKeys("1000");
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[2]/div/div[2]/div[2]/div/div/div/form/div[2]/div/div/div/div/div/div/div[2]/div[3]/div/div/div[1]/div/div/div[2]/div/div/div/div[1]/div/select")).sendKeys("1 - High Performance Projects"+Keys.TAB);
	Thread.sleep(1000);          
	driver.findElement(By.xpath("//label[contains(text(),'Payment Start Date')]")).sendKeys("5/17/2016");
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Accelerated Option')]")).sendKeys(Keys.ENTER);
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Effective Start Month')]")).sendKeys("201604");
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Submit for Review')]")).click();
	}
	
	@Test (priority = 5)
	public void signOutPa() throws InterruptedException, IOException {
	Thread.sleep(2000);
	driver.findElement(By.cssSelector(".appian-body .GN55TI2B5B a")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Sign Out")).click();
	}  
	
	@Test (priority = 6)
	public void logInPrReview() throws InterruptedException {
	driver.findElement(By.cssSelector(".btn, input.iBlueButton")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("un")).sendKeys(E);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("pw")).sendKeys(B);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//input[@type='submit']")).click();
	Thread.sleep(8000);	
	} 
	
	@Test (priority = 7)
	public void tasksPr () throws InterruptedException, IOException {
	driver.findElement(By.partialLinkText("Tasks")).click();
	Thread.sleep(1000);
	driver.findElement(By.partialLinkText("Review and Approve " + G + " Monthly Support Information (" + C + ")")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Accept')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Approve')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Review Feedback')]")).sendKeys("Reviewed and Approved by script");
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Submit Decision')]")).click();
	}
	
	@Test (priority = 8)
	public void signOutPr() throws InterruptedException, IOException {
	Thread.sleep(2000);
	driver.findElement(By.cssSelector(".appian-body .GN55TI2B5B a")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Sign Out")).click();
	}
	
	@Test (priority = 9)
	public void logInPmReview() throws InterruptedException {
		driver.get("https://portal-int.appiancloud.com/suite/tempo/");/////
	driver.findElement(By.cssSelector(".btn, input.iBlueButton")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("un")).sendKeys(F);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("pw")).sendKeys(B);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//input[@type='submit']")).click();
	Thread.sleep(8000);	
	} 
	
	@Test (priority = 10)
	public void tasksPm () throws InterruptedException, IOException {
	driver.findElement(By.partialLinkText("Tasks")).click();
	Thread.sleep(1000);
	driver.findElement(By.partialLinkText("Review and Approve " + G + " Monthly Support Information (" + C + ")")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Accept')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Approve')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Approval Feedback')]")).sendKeys("Reviewed and Approved by script");
	Thread.sleep(1000);
	}
	/*driver.findElement(By.xpath("//button[contains(.,'Submit Decision')]")).click();
	}
	
	@Test (priority = 11)
	public void signOutPm() throws InterruptedException, IOException {
	Thread.sleep(2000);
	driver.findElement(By.cssSelector(".appian-body .GN55TI2B5B a")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Sign Out")).click();
	}  // Removal of Default  
	
	
	@Test (priority = 12)
	public void logInPa() throws InterruptedException {
	driver.findElement(By.cssSelector(".btn, input.iBlueButton")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("un")).sendKeys(A);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("pw")).sendKeys(B);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//input[@type='submit']")).click();
	Thread.sleep(8000);	
	} 
	
	@Test (priority = 13)
	public void recordsCheck() throws InterruptedException {
	driver.findElement(By.partialLinkText("Records")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("SACs")).click();
	Thread.sleep(2000);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(H);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(Keys.ENTER);
	Thread.sleep(2000);
	driver.findElement(By.partialLinkText(H)).click();
	System.out.println("SAC " + C + " selected");
	} */
}