package automation;



import java.io.IOException;
import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.testng.annotations.Test;
import java.util.concurrent.TimeUnit;


public class MobFundingTest {
static WebDriver driver = new FirefoxDriver(); 
final String A = ("test.pa2@itgfirm.com");      		  //  username  
final String B = ("usac123!");                 	         //   all passwords the same 
final String C = ("Georgia RSA 8 Partnership - 228062");                 	//    SAC 
final String D = ("test.ven6@itgfirm.com");            //     username 
final String E = ("test.pr1@itgfirm.com");            //      username
final String F = ("test.pm2@itgfirm.com");           //	      username
final String G = ("1,000,000");     			 //	      change winning bid amount
final String H = ("228062");      		  	    //	      to be used later 
final String I = ("Payment 3");                //          change request for payment(s) 


	@Test (priority = 1)
	public void logIn() throws InterruptedException, IOException {
	driver.get("https://portal-hctest.appiancloud.com/suite/tempo/"); 
	driver.manage().window().maximize();
	driver.findElement(By.cssSelector(".btn, input.iBlueButton")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("un")).sendKeys(A);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("pw")).sendKeys(B);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//input[@type='submit']")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	System.out.println("User logged in");
	}  
	
	@Test (priority = 2)
	public void records() throws InterruptedException {
	driver.findElement(By.partialLinkText("Records")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("SACs")).click();
	Thread.sleep(2000);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(H);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(Keys.ENTER);
	Thread.sleep(2000);
	driver.findElement(By.partialLinkText(H)).click();
	System.out.println("SAC " + C + " selected");
	} 

	@Test (priority = 3)
	public void relatedActions() throws InterruptedException {
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Related Actions")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Manage Funding")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//button[contains(.,'Manage Mobility Funding')]")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS); 
	driver.findElement(By.xpath("//label[contains(text(),'Winning Bid Amount')]")).sendKeys(G); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//label[contains(text(),'Payment Start Date')]")).sendKeys("5/12/2016");
	driver.findElement(By.xpath("//label[contains(text(),'Payment Start Date')]")).sendKeys(Keys.ENTER); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//button[contains(.,'Submit for Review')]")).click();
	} 
	@Test (priority = 4)
	public void signOutPa() throws InterruptedException, IOException {
	Thread.sleep(2000);
	driver.findElement(By.cssSelector(".appian-body .GN55TI2B5B a")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Sign Out")).click();
	}  
	
	@Test (priority = 5)
	public void logInPrReview() throws InterruptedException {
	driver.findElement(By.cssSelector(".btn, input.iBlueButton")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("un")).sendKeys(E);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("pw")).sendKeys(B);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//input[@type='submit']")).click();
	Thread.sleep(8000);	
	} 
	
	@Test (priority = 6)
	public void tasksPr () throws InterruptedException, IOException {
	driver.findElement(By.partialLinkText("Tasks")).click();
	Thread.sleep(1000);
	driver.findElement(By.partialLinkText("Review and Approve Mobility Winning Bid Information (" + C + ")")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Accept')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Approve')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Review Feedback')]")).sendKeys("Reviewed and Approved");
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Submit Decision')]")).click();
	}
	@Test (priority = 7)
	public void signOutPr() throws InterruptedException, IOException {
	Thread.sleep(2000);
	driver.findElement(By.cssSelector(".appian-body .GN55TI2B5B a")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Sign Out")).click();
	} 
	
	@Test (priority = 8)
	public void logInPmReview() throws InterruptedException {
	driver.findElement(By.cssSelector(".btn, input.iBlueButton")).click(); 
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("un")).sendKeys(F);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.id("pw")).sendKeys(B);
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//input[@type='submit']")).click();
	Thread.sleep(8000);	
	} 
	
	@Test (priority = 9)
	public void tasksPm () throws InterruptedException, IOException {
	driver.findElement(By.partialLinkText("Tasks")).click();
	Thread.sleep(1000);
	driver.findElement(By.partialLinkText("Review and Approve Mobility Winning Bid Information (" + C + ")")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Accept')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Approve')]")).click();
	Thread.sleep(1000);
	driver.findElement(By.xpath("//label[contains(text(),'Approval Feedback')]")).sendKeys("Reviewed and Approved");
	Thread.sleep(1000);
	driver.findElement(By.xpath("//button[contains(.,'Submit Decision')]")).click();
	}

	@Test (priority = 10)
	public void PmrelatedActions() throws InterruptedException {
	Thread.sleep(2000);
	driver.findElement(By.partialLinkText("Records")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("SACs")).click();
	Thread.sleep(2000);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(H);
	driver.findElement(By.xpath("/html/body/div[7]/div[2]/div/div[1]/div[2]/div/div[1]/form/input")).sendKeys(Keys.ENTER);
	Thread.sleep(2000);
	driver.findElement(By.partialLinkText(H)).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Related Actions")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.partialLinkText("Manage Funding")).click();
	driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);
	driver.findElement(By.xpath("//button[contains(.,'Manage Mobility Funding')]")).click();
	}
}